---
title: 【day day up系列】2022年4月学习笔记
date: 2022-04-07
categories:
 - 日常
tags:
 - daily
siderbar: auto
---

> 最近在重温《死神》动漫，平均20分钟/集，总共366集，有了一个长期的放松方式，比追电视剧轻松多啦～

## 1.【踩坑系列】二次封装组件[WIP]

## 2. parseInt(0.0000005) === 5?
`parseInt(string, radix)`：  
- 描述：解析一个字符串并返回指定基数的十进制整数，`radix`是2-36之间的**整数**或**NaN**，表示被解析字符串的基数。
- 参数说明：  
  - string：要被解析的值。如果参数不是一个字符串，则将其转换为字符串，字符串开头的空白符将被忽略。  
  - radix：可选，从2到36，表示字符串的基数。  
- 返回值说明：
  - 整数
  - NaN：`radix < 2`或`radix > 36`时；第一个非空格字符不能转为数字时  
- **特殊说明**  
  - 如果`string`参数中包含不是`radix`参数中的字符，则`parseInt`将忽略该字符及其后续字符。  
  - 由于某些数字在字符串表示形式中使用`e`字符（如6.022x23表示6.022e23），因此当对于非常大或者非常小的数字使用`parseInt`时会产生数字截断的"意外"，这种情况下应当使用`Math.floor()`。
  - 当`string`类型为`BigInt`时，`parseInt`将`BigInt`转换为`Number`，这个过程中会失去精度，因为非数字值（包括"n"）会被丢弃。   
- 当`radix`是`undefined`、0或未指定时，会有如下几种情况：  
  - 若`string`以"`0x`"或"`0X`"开头，则`radix`被假定为16，`string`会被当作十六进制去解析。  
  - 若`string`以"`0`"开头，则`radix`被假定为10（<font color="#008dff">但不是所有浏览器都支持，也有浏览器使用8</font>）。**在使用`parseInt`时，一定要指定一个`radix`。**    
  - 若`string`以任何其他值开头，则`radix`为10。

现在回归标题：为啥子parseInt(0.0000005)严格等于5呢？  
答案在上述说明中可以得到，以下是分析步骤：  
- 第一个参数`string`不是字符串类型时，会将其转换成字符串，这时调用String(0.0000005)得到'5e-7'；
- 由于'5e-7'命中**当`radix`是`undefined`、0或未指定时，会有如下几种情况**中的第3条，此时第二个参数`radix`为10；
- 上述处理后得到的计算式为`parseInt('5e-7', 10)`;  
- 命中**特殊说明**第一条，`parseInt`会忽略`radix`中不包含的字符，无法识别字符'e'及其后续字符；  
- 上述处理后得到的计算结果等同于`parseInt('5', 10)`，即为5.
