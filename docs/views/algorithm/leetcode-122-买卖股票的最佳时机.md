---
title: leetcode——买卖股票的最佳时机（122-简单）
date: 2021-07-06
categories:
 - 算法
tags:
 - 算法
 - leetcode-easy
sidebar: auto
--- 

## 1. 题目描述
给定一个数组`prices`，其中`prises[i]`是一支给定股票第`i`天的价格。  
设计一个算法来计算你所能获取的最大利润。你可以尽可能地完成更多的交易（多次买卖一支股票）。  
**注意：**你不能同时参与多笔交易（你必须在再次购买前出售掉之前的股票）。  

```bash
# 示例1
输入： prices = [7, 1, 5, 3, 6, 4]
输出： 7
解释： 在第2天（股票价格 = 1）的时候买入，在第3天（股票价格 = 5）的时候卖出，这笔交易所能获得利润 = 5 - 1 = 4. 随后在第4天（股票价格 = 3）的时候买入，在第5天（股票价格 = 6）的时候卖出，这笔交易所能获得利润 = 6 - 3 = 3.

# 示例2
输入： prices = [1, 2, 3, 4, 5]
输出： 4
解释：在第1天（股票价格 = 1）的时候买入，在第5天（股票价格 = 5）的时候卖出，这笔交易所能获得利润 = 5 - 1 = 4.  注意你不能在第1天和第2天连续买入股票，之后再将它们卖出。因为这样属于同时参与了多笔交易，你必须在再次购买前卖出之前的股票。

# 示例3
输入： prices = [7, 6, 4, 3, 1]
输出： 0
解释：在这种情况下，没有交易完成，所以最大利润为0.
```  

**提示：**  
- 1 <= prices.length <= 3 * 10^4
- 0 <= prices[i] <= 10^4

## 2. 思路分析
**关键点**：低价买入，高价卖出，尽可能多地进行低进高出。
将给定数组绘制成折线图，就可以很直观的看到，每次折线图呈上升趋势时，就是低价买入的时机，一旦折线图开始下降，则是高价卖出的时机。  
因此，我们只需要将所有上升趋势的折线对应差值相加，即可得到最大利润。

## 3. 题解
```js
var maxProfit = function(prices) {
  if(prices.length < 2) return 0;
  var profit = 0;
  for(var i = 1; i < prices.length; i++) {
    var temp = prices[i] - prices[i-1];
    if(temp > 0) profit += temp;
  }
  return profit
}
```