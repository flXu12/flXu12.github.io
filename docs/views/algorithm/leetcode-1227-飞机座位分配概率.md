---
title: leetcode———飞机座位分配概率(1227-中等)
date: 2022-06-12
categories:
 - 算法
tags:
 - 算法
 - leetcode-meduim
sidebar: auto
--- 

## 1. 题目描述
有 n 位乘客即将登机，飞机正好有 n 个座位。第一位乘客的票丢了，他随便选了一个座位坐下。  
剩下的乘客将会：    
- 如果他们自己的座位还空着，就坐到自己的座位上，  
- 当他们自己的座位被占用时，随机选择其他座位  
第 n 位乘客坐在自己的座位上的概率是多少？  

```bash
# 示例1
输入：n = 1
输出：1.00000
解释：第一个人只会坐在自己的位置上。

# 示例2
输入: n = 2
输出: 0.50000
解释：在第一个人选好座位坐下后，第二个人坐在自己的座位上的概率是 0.5。
```

**提示：**   
- 1 <= n <= 10^5

## 2. 思路分析
- n = 1, 概率100%   
- n = 2, 概率50%  
- n = 3, 第一个人坐对了（1/3），则第三个人坐对的概率100%；第一个人占了第二个人的位置（1/3），第二个人坐在第一个人的位置（1/2），第三个人能坐对。因此概率为`1/3 + 1/3 * 1/2 = 1/2`
- n = 4, C-P-C-P 或 C-P-P-P, 4次操作  

对于 n > 3的情况：  
- 第一个人坐对了，则第n个人能坐对的概率是100%   
- 第一个人选择了第n个位置，则第n个人坐对的概率是0  
- 第一个人选择了除第一个和第n个座位以外的位置k(1< k < n)，则会存在前n-1位乘客占用第n位乘客的概率  

对于第3种情况，相当于将第1个乘客的问题转移到了第k个乘客，即最后总会分解成第一个人坐对了 or 第一个人做到第n个位置两种可能。

## 3. 题解
```js
/**
 * @param {number} n
 * @return {number}
 */
var nthPersonGetsNthSeat = function(n) {
  if(n===1) return 1;
  return 0.5;
};
```   
